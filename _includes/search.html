
<style>
  .search-bar {
    position: relative;
    height: 45px;
    line-height: 45px;
  }

  .search-bar .result-warpper {
    position: absolute;
    top: 115%;
    left: 0;
    width: 100%;
    border: 1px solid #eee;
    background-color: #fff;
    z-index: 1;
  }
  .search-input {
    display: block;
    width: 100%;
    height: 100%;
    margin: auto;
    padding-left: 8px;
    color: #666;
    text-align: center;
    border: 2px solid #181818;
    outline: none;
  }
  @media screen and (max-width: 768px) {
    .search-input {
      width: 95%;
    }
  }
  .result-warpper {
    display: none;
    padding: 3px;
  }

  .result-warpper li {
    list-style-type: none;
    
  }

  .result-warpper li:hover {
    background: #eee;
  }

  .result-warpper li a {
    text-decoration: none;
  }
</style>
<div class="search-bar">
 <input type="text" id="search-input" class="search-input" placeholder="搜素文章..">
 <ul id="results-container" class="result-warpper"></ul>
</div>
<script>
  var sjs = SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    json: '/search.json',
    noResultsText: '未搜索到文章'
  })
  const searchInput = document.getElementById('search-input')
  const resultsContainer = document.getElementById('results-container')
  let timer = null
  searchInput.oninput = function () {
    const val = this.value.trim()
    console.log('timer:', timer)
    exec(val)
  /*   if (!timer) {
      timer = setTimeout(() => {
        
      }, 500);
    } else {
      console.log('清除timer：', timer)
      window.clearTimeout(timer)
      timer = setTimeout(() => {
        exec(val)
      }, 500);
    } */
  }
  var i = 0
  function exec(val) {
    console.log(++i)
    if (val) {
      if (window.getComputedStyle(resultsContainer).display === 'none') {
        resultsContainer.style.display = 'block'
      }
    } else {
      if (window.getComputedStyle(resultsContainer).display === 'block') {
        resultsContainer.style.display = 'none'
      }
    }
  }
</script>